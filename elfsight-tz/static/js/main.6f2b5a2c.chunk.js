(this["webpackJsonpelfsight-tz"]=this["webpackJsonpelfsight-tz"]||[]).push([[0],{72:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r,a=n(13),c=n.n(a),i=n(12),l=n(91),s=n(92),o=n(93),d=n(7);!function(e){e.SetData="SetData",e.SetError="SetError",e.SetIsLoading="SetIsLoading"}(r||(r={}));var u,j,p={processInfo:{isLoading:!1,error:null},renderData:[],meta:{}},f={setIsLoading:function(e){return{type:r.SetIsLoading,payload:e}},setData:function(e){return{type:r.SetData,payload:e}},setError:function(e){return{type:r.SetError,payload:e}}},O="".concat("https://rickandmortyapi.com/api","/character"),b=function(e,t){return e.match("page=")?e.replace(/page=\d+/,"page=".concat(t)):e.match("\\?")?"".concat(e,"&page=").concat(t):"".concat(e,"?page=").concat(t)},h=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.keys(t),r=n[0];return"".concat(O,"?").concat(r,"=").concat(null===(e=t[r])||void 0===e?void 0:e.value).concat(n.slice(1).reduce((function(e,n){var r;return e+="&".concat(n,"=").concat(null===(r=t[n])||void 0===r?void 0:r.value)}),""))},v=n(14);!function(e){e.Name="name",e.Status="status",e.Species="species",e.Gender="gender",e.Type="type"}(j||(j={}));var x,g=(u={},Object(v.a)(u,j.Name,{type:"input",placeHolderText:"\u043a\u0430\u043a \u0437\u043e\u0432\u0443\u0442?"}),Object(v.a)(u,j.Type,{type:"input",placeHolderText:"\u043a\u0430\u043a\u043e\u0439 \u0442\u0438\u043f?"}),Object(v.a)(u,j.Species,{type:"input",placeHolderText:"\u043a\u0430\u043a\u0430\u044f \u0440\u0430\u0441\u0430?"}),Object(v.a)(u,j.Status,{type:"select",options:["Alive","Dead","unknown"]}),Object(v.a)(u,j.Gender,{type:"select",options:["male","female","genderless","unknown"]}),u),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{url:O,actionSetSuccess:f.setData,actionSetError:f.setError},n=t.url,r=void 0===n?O:n,a=t.actionSetSuccess,c=void 0===a?f.setData:a,i=t.actionSetError,l=void 0===i?f.setError:i;return fetch(r).then((function(e){return e.json()})).then((function(t){return e(c(t))})).catch((function(){return l("something goes wrong")}))};function y(e,t,n){var r;switch(t){case"first":return m(e,{url:b(n.prev,1)});case"next":return m(e,{url:n.next});case"last":return m(e,{url:b(n.next,n.pages)});case"prev":return m(e,{url:null!==(r=n.prev)&&void 0!==r?r:O})}}!function(e){e.Open="Open",e.Close="Close"}(x||(x={}));var C,w={status:"closed",children:{}},R={open:function(e){return{type:x.Open,children:e}},close:function(){return{type:x.Close}}};!function(e){e.SetFiltered="SetFiltered",e.SetChanges="SetChanges",e.ResetFilters="ResetFilters"}(C||(C={}));var _=function(e){var t;return Object.keys(null!==(t=e.filters)&&void 0!==t?t:[]).some((function(t){var n,r;return Boolean(null===(n=e.filters)||void 0===n||null===(r=n[t])||void 0===r?void 0:r.value)}))},S={isFiltered:!1,hasChanges:!1,filters:{}},I={setFiltered:function(e){return{type:C.SetFiltered,payload:e}},setChanges:function(e){var t=e.payload,n=e.filterType;return{type:C.SetChanges,payload:t,filterType:n}},resetFilters:function(){return{type:C.ResetFilters}}},k=(Object(d.a)(Object(d.a)(Object(d.a)({},p),w),S),{dataReducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.SetData:return n.payload.results?Object(d.a)(Object(d.a)({},t),{},{renderData:n.payload.results,meta:null!==(e=n.payload.info)&&void 0!==e?e:{},processInfo:{isLoading:!1,error:null}}):Object(d.a)(Object(d.a)({},t),{},{renderData:[],meta:{},processInfo:{isLoading:!1,error:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043d\u0430\u0448\u0451\u043b\u0441\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438."}});case r.SetError:return Object(d.a)(Object(d.a)({},t),{},{processInfo:{isLoading:!1,error:n.payload}});case r.SetIsLoading:return Object(d.a)(Object(d.a)({},t),{},{processInfo:{isLoading:n.payload,error:null}});default:return Object(d.a)({},t)}},popupReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.Close:return w;case x.Open:return{status:"opened",children:t.children};default:return Object(d.a)({},e)}},filterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.ResetFilters:return Object(d.a)(Object(d.a)({},e),{},{hasChanges:!1,isFiltered:!1,filters:{}});case C.SetFiltered:return Object(d.a)(Object(d.a)({},e),{},{isFiltered:t.payload});case C.SetChanges:var n=Object(d.a)(Object(d.a)({},e),{},{filters:Object(d.a)(Object(d.a)({},e.filters),{},Object(v.a)({},t.filterType,{value:t.payload}))});return n.hasChanges=_(n),n;default:return Object(d.a)({},e)}}}),N=Object(d.a)(Object(d.a)(Object(d.a)({},f),R),I),F=function(e){for(var t=e.dispatch,n=e.setIsLoading,r=void 0===n||n,a=e.callback,c=arguments.length,i=new Array(c>1?c-1:0),l=1;l<c;l++)i[l-1]=arguments[l];r&&t(N.setIsLoading(!0)),t((function(e){return a.apply(void 0,[e].concat(i))}))},M=n(21),L=function(){var e=Object(i.b)();return Object(M.b)(N,e)},T=i.c,D=n(3),A=function(){var e=T((function(e){return e})),t=e.dataReducer,n=e.dataReducer.meta,r=Object(i.b)();if(t.processInfo.isLoading||(null===n||void 0===n?void 0:n.pages)<2)return Object(D.jsx)(D.Fragment,{});var a=function(e){return F({dispatch:r,callback:y},e,t.meta)},c=function(e){if(!e.prev)return 1;if(!e.next)return e.pages;var t=e.prev.split("page=");return+t[t.length-1].split("&")[0]+1}(n);return Object(D.jsxs)(l.a,{className:"pt-2",children:[Object(D.jsx)(s.a,{disabled:1===c,children:Object(D.jsx)(o.a,{href:"#",onClick:function(){return a("first")},children:"<<"})}),Object(D.jsx)(s.a,{disabled:1===c,children:Object(D.jsx)(o.a,{href:"#",onClick:function(){return a("prev")},children:"<"})}),Object(D.jsx)(s.a,{active:!0,children:Object(D.jsx)(o.a,{children:c})}),Object(D.jsx)(s.a,{disabled:c===n.pages,children:Object(D.jsx)(o.a,{href:"#",onClick:function(){return a("next")},children:">"})}),Object(D.jsx)(s.a,{disabled:c===n.pages,children:Object(D.jsx)(o.a,{href:"#",onClick:function(){return a("last")},children:">>"})})]})},z=n(102),V=n(94),E=n(95),H=function(){var e=T((function(e){return e})).popupReducer,t="opened"===e.status,n=L().close;return Object(D.jsxs)(z.a,{isOpen:t,toggle:n,size:"lg",children:[Object(D.jsx)(V.a,{toggle:n,children:"Character"}),Object(D.jsx)(E.a,{children:t?e.children:Object(D.jsx)(D.Fragment,{})})]})},B=n(24),P=n(51),W=n(96),G=n(97),J=n(50),q=n(98),K=function(e){var t,n,r=e.onChange,a=e.labelText,c=e.placeHolderText,i=e.className,l=e.filterName,s=T((function(e){return e})).filterReducer.filters;return Object(D.jsxs)(W.a,{className:i+" p-2",children:[Object(D.jsx)(G.a,{addonType:"prepend",children:Object(D.jsx)(J.a,{children:a})}),Object(D.jsx)(q.a,{placeholder:c,value:null!==(t=null===s||void 0===s||null===(n=s[l])||void 0===n?void 0:n.value)&&void 0!==t?t:"",onChange:function(e){var t=e.target.value;return null===r||void 0===r?void 0:r(t,l)}})]})},Q=n(1),U=(n(72),n(99)),X=n(103),Y=n(104),Z=n(105),$=function(e){var t=e.selectorText,n=e.headerText,r=e.filterValues,a=e.filterType,c=e.onChange,i=Object(Q.useState)(!1),l=Object(B.a)(i,2),s=l[0],o=l[1],d=T((function(e){return e})).filterReducer.filters;return Object(D.jsx)(W.a,{className:"p-2",children:Object(D.jsxs)(X.a,{addonType:"prepend",isOpen:s,toggle:function(){return o(!s)},children:[Object(D.jsx)(Y.a,{caret:!0,children:t}),Object(D.jsxs)(Z.a,{children:[Object(D.jsx)(U.a,{onClick:function(){return null===c||void 0===c?void 0:c("",a)},children:"\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c"}),Object(D.jsx)(U.a,{divider:!0}),n&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(U.a,{header:!0,children:n}),Object(D.jsx)(U.a,{divider:!0})]}),r.options.map((function(e){var t;return Object(D.jsx)(U.a,{disabled:e===(null===d||void 0===d||null===(t=d[a])||void 0===t?void 0:t.value),onClick:function(){return null===c||void 0===c?void 0:c(e,a)},children:e},e)}))]})]})})},ee=function(){var e=Object(i.b)(),t=L(),n=t.resetFilters,r=t.setFiltered,a=T((function(e){return e})).filterReducer,c=Object(Q.useState)(!1),l=Object(B.a)(c,2),s=l[0],o=l[1],d=L().setChanges,u=function(){return o((function(e){return!e}))};return Object(D.jsxs)("div",{className:"RIMO__filterPanel",children:[a.isFiltered?Object(D.jsx)(te,{onClick:u}):Object(D.jsx)(ne,{onClick:u}),Object(D.jsxs)(z.a,{isOpen:s,toggle:u,children:[Object(D.jsxs)(V.a,{toggle:u,className:"position-relative",children:["Filter Panel",a.hasChanges&&Object(D.jsx)(P.a,{className:"RIMO__filterPanel-icon",color:"success",onClick:function(){r(!0),o(!1),F({dispatch:e,callback:m},{url:h(a.filters)})},children:"Accept"}),a.isFiltered&&Object(D.jsx)(P.a,{className:"RIMO__filterPanel-resetButton",color:"link",size:"sm",onClick:function(){n(),F({dispatch:e,callback:m})},children:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"})]}),Object(D.jsx)(E.a,{children:Object.keys(g).map((function(e){return"input"===g[e].type?Object(D.jsx)(K,{labelText:e,placeHolderText:g[e].placeHolderText,filterName:e,onChange:function(e,t){return d({filterType:t,payload:e})}},e):Object(D.jsx)($,{selectorText:e,filterValues:g[e],filterType:e,onChange:function(e,t){return d({filterType:t,payload:e})}},e)}))})]})]})},te=function(e){var t=Object.assign({},e);return Object(D.jsxs)("svg",Object(d.a)(Object(d.a)({stroke:"currentColor",fill:"#fff",strokeWidth:"0",viewBox:"0 0 16 16",height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[Object(D.jsx)("path",{d:"M2 3.5v-2h12v2l-4.5 5v5l-3 1v-6L2 3.5z"}),Object(D.jsx)("path",{fillRule:"evenodd",d:"M1.5 1.5A.5.5 0 012 1h12a.5.5 0 01.5.5v2a.5.5 0 01-.128.334L10 8.692V13.5a.5.5 0 01-.342.474l-3 1A.5.5 0 016 14.5V8.692L1.628 3.834A.5.5 0 011.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 017 8.5v5.306l2-.666V8.5a.5.5 0 01.128-.334L13.5 3.308V2h-11z",clipRule:"evenodd"})]}))},ne=function(e){var t=Object.assign({},e);return Object(D.jsx)("svg",Object(d.a)(Object(d.a)({stroke:"currentColor",fill:"#fff",strokeWidth:"0",viewBox:"0 0 16 16",height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:Object(D.jsx)("path",{fillRule:"evenodd",d:"M1.5 1.5A.5.5 0 012 1h12a.5.5 0 01.5.5v2a.5.5 0 01-.128.334L10 8.692V13.5a.5.5 0 01-.342.474l-3 1A.5.5 0 016 14.5V8.692L1.628 3.834A.5.5 0 011.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 017 8.5v5.306l2-.666V8.5a.5.5 0 01.128-.334L13.5 3.308V2h-11z",clipRule:"evenodd"})}))},re=(n(86),function e(t){var n,r=t.item,a=t.enableNameClick,c=void 0===a||a,l=L().open,s=Object(i.b)();return Object(D.jsxs)("article",{className:"RIMO__smallCard d-flex rounded",children:[Object(D.jsx)("div",{className:"RIMO__smallCard-photo-wrapper w-100",children:Object(D.jsx)("img",{className:"RIMO__smallCard-photo w-100 h-100",src:null===r||void 0===r?void 0:r.image,alt:null===r||void 0===r?void 0:r.type})}),Object(D.jsxs)("div",{className:"RIMO__smallCard-info position-relative text-white d-flex flex-column",children:[Object(D.jsxs)("section",{className:"RIMO__smallCard-content-wrapper d-flex flex-column",children:[Object(D.jsx)("p",{className:"RIMO__smallCard-name",onClick:function(){return c?(t=r.id,F({dispatch:s,callback:m,setIsLoading:!1},{url:"".concat(O,"/").concat(t),actionSetSuccess:function(t){return l(Object(D.jsx)(e,{item:t,enableNameClick:!1}))}})):function(){};var t},children:null===r||void 0===r?void 0:r.name}),Object(D.jsxs)("span",{className:"RIMO__smallCard-status d-flex align-items-center text-capitalize",children:[Object(D.jsx)("span",{className:"RIMO__smallCard-status-icon RIMO__smallCard-status-icon--"+(null===r||void 0===r?void 0:r.status)}),null===r||void 0===r?void 0:r.status]})]}),Object(D.jsxs)("section",{className:"RIMO__smallCard-content-wrapper d-flex flex-column",children:[Object(D.jsx)("span",{className:"RIMO__smallCard-location-info-wrapper",children:"Last known location:"}),Object(D.jsx)("p",{className:"RIMO__smallCard-location-info",children:null===r||void 0===r?void 0:r.location.name})]}),Object(D.jsxs)("section",{className:"RIMO__smallCard-content-wrapper d-flex flex-column",children:[Object(D.jsx)("span",{className:"RIMO__smallCard-firstSeries-info",children:"First seen in:"}),Object(D.jsx)("p",{className:"RIMO__smallCard-firstSeries",children:null===r||void 0===r||null===(n=r.origin)||void 0===n?void 0:n.name})]})]})]})}),ae=n(100),ce=function(){var e=T((function(e){return e})).dataReducer;return e.processInfo.isLoading?Object(D.jsx)(ae.a,{color:"primary",style:{width:"5vw",height:"5vw"},children:" "}):Object(D.jsx)("main",{className:"bg-white h-100 w-100 rounded p-2 d-flex flex-wrap justify-content-between",children:e.renderData.map((function(e){return Object(D.jsx)(re,{item:e},e.id)}))})},ie=function(e){var t=e.children,n=T((function(e){return e})).dataReducer.processInfo.error;return n?Object(D.jsx)("div",{className:"text-white",children:n}):Object(D.jsx)(D.Fragment,{children:t})},le=n(101),se=(n(87),function(){return Object(D.jsx)("header",{className:"RIMO__header bg-info justify-content-center align-items-center d-flex text-white font-monospace",children:"Rick and Morty Widget"})}),oe=(n(88),function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(se,{}),Object(D.jsxs)(le.a,{fluid:!0,className:"bg-dark RIMO p-5 d-flex flex-column justify-content-center align-items-center\r position-relative",children:[Object(D.jsx)(ee,{}),Object(D.jsxs)(ie,{children:[Object(D.jsx)(ce,{}),Object(D.jsx)(A,{})]})]}),Object(D.jsx)(H,{})]})}),de=n(54),ue=Object(M.c)(k),je=Object(M.d)(ue,{},Object(M.a)(de.a));F({dispatch:je.dispatch,callback:m});n(89);c.a.render(Object(D.jsx)(i.a,{store:je,children:Object(D.jsx)(oe,{})}),document.querySelector("#root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.6f2b5a2c.chunk.js.map