(this["webpackJsonpelfsight-tz"]=this["webpackJsonpelfsight-tz"]||[]).push([[0],{72:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r,a=n(13),c=n.n(a),i=n(12),l=n(91),s=n(92),o=n(93),d=n(7);!function(e){e.SetData="SetData",e.SetError="SetError",e.SetIsLoading="SetIsLoading"}(r||(r={}));var u,j,p={processInfo:{isLoading:!1,error:null},renderData:[],meta:{}},f={setIsLoading:function(e){return{type:r.SetIsLoading,payload:e}},setData:function(e){return{type:r.SetData,payload:e}},setError:function(e){return{type:r.SetError,payload:e}}},O="".concat("https://rickandmortyapi.com/api","/character"),b=function(e){if(!e.prev)return 1;if(!e.next)return e.pages;var t=e.prev.split("page=");return+t[t.length-1].split("&")[0]+1},h=function(e,t){return"".concat(e,"?page=").concat(t)},v=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.keys(t),r=n[0];return"".concat(O,"?").concat(r,"=").concat(null===(e=t[r])||void 0===e?void 0:e.value).concat(n.slice(1).reduce((function(e,n){var r;return e+="&".concat(n,"=").concat(null===(r=t[n])||void 0===r?void 0:r.value)}),""))},x=n(14);!function(e){e.Name="name",e.Status="status",e.Species="species",e.Gender="gender",e.Type="type"}(j||(j={}));var m,g=(u={},Object(x.a)(u,j.Name,{type:"input",placeHolderText:"\u043a\u0430\u043a \u0437\u043e\u0432\u0443\u0442?"}),Object(x.a)(u,j.Type,{type:"input",placeHolderText:"\u043a\u0430\u043a\u043e\u0439 \u0442\u0438\u043f?"}),Object(x.a)(u,j.Species,{type:"input",placeHolderText:"\u043a\u0430\u043a\u0430\u044f \u0440\u0430\u0441\u0430?"}),Object(x.a)(u,j.Status,{type:"select",options:["Alive","Dead","unknown"]}),Object(x.a)(u,j.Gender,{type:"select",options:["male","female","genderless","unknown"]}),u),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{url:O,actionSetSuccess:f.setData,actionSetError:f.setError},n=t.url,r=void 0===n?O:n,a=t.actionSetSuccess,c=void 0===a?f.setData:a,i=t.actionSetError,l=void 0===i?f.setError:i;return fetch(r).then((function(e){return e.json()})).then((function(t){return e(c(t))})).catch((function(){return l("something goes wrong")}))},C=function(e,t,n){switch(t){case"first":return y(e);case"next":return y(e,{url:n.next});case"last":return y(e,{url:h(O,n.pages)});case"prev":return y(e,{url:h(O,+b(n)-1)})}};!function(e){e.Open="Open",e.Close="Close"}(m||(m={}));var w,R={status:"closed",children:{}},_={open:function(e){return{type:m.Open,children:e}},close:function(){return{type:m.Close}}};!function(e){e.SetFiltered="SetFiltered",e.SetChanges="SetChanges",e.ResetFilters="ResetFilters"}(w||(w={}));var S=function(e){var t;return Object.keys(null!==(t=e.filters)&&void 0!==t?t:[]).some((function(t){var n,r;return Boolean(null===(n=e.filters)||void 0===n||null===(r=n[t])||void 0===r?void 0:r.value)}))},I={isFiltered:!1,hasChanges:!1,filters:{}},k={setFiltered:function(e){return{type:w.SetFiltered,payload:e}},setChanges:function(e){var t=e.payload,n=e.filterType;return{type:w.SetChanges,payload:t,filterType:n}},resetFilters:function(){return{type:w.ResetFilters}}},N=(Object(d.a)(Object(d.a)(Object(d.a)({},p),R),I),{dataReducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.SetData:return n.payload.results?Object(d.a)(Object(d.a)({},t),{},{renderData:n.payload.results,meta:null!==(e=n.payload.info)&&void 0!==e?e:{},processInfo:{isLoading:!1,error:null}}):Object(d.a)(Object(d.a)({},t),{},{renderData:[],meta:{},processInfo:{isLoading:!1,error:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043d\u0430\u0448\u0451\u043b\u0441\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438."}});case r.SetError:return Object(d.a)(Object(d.a)({},t),{},{processInfo:{isLoading:!1,error:n.payload}});case r.SetIsLoading:return Object(d.a)(Object(d.a)({},t),{},{processInfo:{isLoading:n.payload,error:null}});default:return Object(d.a)({},t)}},popupReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.Close:return R;case m.Open:return{status:"opened",children:t.children};default:return Object(d.a)({},e)}},filterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.ResetFilters:return Object(d.a)(Object(d.a)({},e),{},{hasChanges:!1,isFiltered:!1,filters:{}});case w.SetFiltered:return Object(d.a)(Object(d.a)({},e),{},{isFiltered:t.payload});case w.SetChanges:var n=Object(d.a)(Object(d.a)({},e),{},{filters:Object(d.a)(Object(d.a)({},e.filters),{},Object(x.a)({},t.filterType,{value:t.payload}))});return n.hasChanges=S(n),n;default:return Object(d.a)({},e)}}}),F=Object(d.a)(Object(d.a)(Object(d.a)({},f),_),k),M=function(e){for(var t=e.dispatch,n=e.setIsLoading,r=void 0===n||n,a=e.callback,c=arguments.length,i=new Array(c>1?c-1:0),l=1;l<c;l++)i[l-1]=arguments[l];r&&t(F.setIsLoading(!0)),t((function(e){return a.apply(void 0,[e].concat(i))}))},L=n(21),T=function(){var e=Object(i.b)();return Object(L.b)(F,e)},D=i.c,A=n(3),z=function(){var e=D((function(e){return e})),t=e.dataReducer,n=e.dataReducer.meta,r=Object(i.b)();if(t.processInfo.isLoading||(null===n||void 0===n?void 0:n.pages)<2)return Object(A.jsx)(A.Fragment,{});var a=function(e){return M({dispatch:r,callback:C},e,t.meta)},c=b(n);return Object(A.jsxs)(l.a,{className:"pt-2",children:[Object(A.jsx)(s.a,{disabled:1===c,children:Object(A.jsx)(o.a,{href:"#",onClick:function(){return a("first")},children:"<<"})}),Object(A.jsx)(s.a,{disabled:1===c,children:Object(A.jsx)(o.a,{href:"#",onClick:function(){return a("prev")},children:"<"})}),Object(A.jsx)(s.a,{active:!0,children:Object(A.jsx)(o.a,{children:c})}),Object(A.jsx)(s.a,{disabled:c===n.pages,children:Object(A.jsx)(o.a,{href:"#",onClick:function(){return a("next")},children:">"})}),Object(A.jsx)(s.a,{disabled:c===n.pages,children:Object(A.jsx)(o.a,{href:"#",onClick:function(){return a("last")},children:">>"})})]})},V=n(102),E=n(94),H=n(95),B=function(){var e=D((function(e){return e})).popupReducer,t="opened"===e.status,n=T().close;return Object(A.jsxs)(V.a,{isOpen:t,toggle:n,size:"lg",children:[Object(A.jsx)(E.a,{toggle:n,children:"Character"}),Object(A.jsx)(H.a,{children:t?e.children:Object(A.jsx)(A.Fragment,{})})]})},P=n(24),W=n(51),G=n(96),J=n(97),q=n(50),K=n(98),Q=function(e){var t,n,r=e.onChange,a=e.labelText,c=e.placeHolderText,i=e.className,l=e.filterName,s=D((function(e){return e})).filterReducer.filters;return Object(A.jsxs)(G.a,{className:i+" p-2",children:[Object(A.jsx)(J.a,{addonType:"prepend",children:Object(A.jsx)(q.a,{children:a})}),Object(A.jsx)(K.a,{placeholder:c,value:null!==(t=null===s||void 0===s||null===(n=s[l])||void 0===n?void 0:n.value)&&void 0!==t?t:"",onChange:function(e){var t=e.target.value;return null===r||void 0===r?void 0:r(t,l)}})]})},U=n(1),X=(n(72),n(99)),Y=n(103),Z=n(104),$=n(105),ee=function(e){var t=e.selectorText,n=e.headerText,r=e.filterValues,a=e.filterType,c=e.onChange,i=Object(U.useState)(!1),l=Object(P.a)(i,2),s=l[0],o=l[1],d=D((function(e){return e})).filterReducer.filters;return Object(A.jsx)(G.a,{className:"p-2",children:Object(A.jsxs)(Y.a,{addonType:"prepend",isOpen:s,toggle:function(){return o(!s)},children:[Object(A.jsx)(Z.a,{caret:!0,children:t}),Object(A.jsxs)($.a,{children:[Object(A.jsx)(X.a,{onClick:function(){return null===c||void 0===c?void 0:c("",a)},children:"\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c"}),Object(A.jsx)(X.a,{divider:!0}),n&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(X.a,{header:!0,children:n}),Object(A.jsx)(X.a,{divider:!0})]}),r.options.map((function(e){var t;return Object(A.jsx)(X.a,{disabled:e===(null===d||void 0===d||null===(t=d[a])||void 0===t?void 0:t.value),onClick:function(){return null===c||void 0===c?void 0:c(e,a)},children:e},e)}))]})]})})},te=function(){var e=Object(i.b)(),t=T(),n=t.resetFilters,r=t.setFiltered,a=D((function(e){return e})).filterReducer,c=Object(U.useState)(!1),l=Object(P.a)(c,2),s=l[0],o=l[1],d=T().setChanges,u=function(){return o((function(e){return!e}))};return Object(A.jsxs)("div",{className:"RIMO__filterPanel",children:[a.isFiltered?Object(A.jsx)(ne,{onClick:u}):Object(A.jsx)(re,{onClick:u}),Object(A.jsxs)(V.a,{isOpen:s,toggle:u,children:[Object(A.jsxs)(E.a,{toggle:u,className:"position-relative",children:["Filter Panel",a.hasChanges&&Object(A.jsx)(W.a,{className:"RIMO__filterPanel-icon",color:"success",onClick:function(){r(!0),M({dispatch:e,callback:y},{url:v(a.filters)})},children:"Accept"}),a.isFiltered&&Object(A.jsx)(W.a,{className:"RIMO__filterPanel-resetButton",color:"link",size:"sm",onClick:function(){n(),M({dispatch:e,callback:y})},children:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"})]}),Object(A.jsx)(H.a,{children:Object.keys(g).map((function(e){return"input"===g[e].type?Object(A.jsx)(Q,{labelText:e,placeHolderText:g[e].placeHolderText,filterName:e,onChange:function(e,t){return d({filterType:t,payload:e})}},e):Object(A.jsx)(ee,{selectorText:e,filterValues:g[e],filterType:e,onChange:function(e,t){return d({filterType:t,payload:e})}},e)}))})]})]})},ne=function(e){var t=Object.assign({},e);return Object(A.jsxs)("svg",Object(d.a)(Object(d.a)({stroke:"currentColor",fill:"#fff",strokeWidth:"0",viewBox:"0 0 16 16",height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[Object(A.jsx)("path",{d:"M2 3.5v-2h12v2l-4.5 5v5l-3 1v-6L2 3.5z"}),Object(A.jsx)("path",{fillRule:"evenodd",d:"M1.5 1.5A.5.5 0 012 1h12a.5.5 0 01.5.5v2a.5.5 0 01-.128.334L10 8.692V13.5a.5.5 0 01-.342.474l-3 1A.5.5 0 016 14.5V8.692L1.628 3.834A.5.5 0 011.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 017 8.5v5.306l2-.666V8.5a.5.5 0 01.128-.334L13.5 3.308V2h-11z",clipRule:"evenodd"})]}))},re=function(e){var t=Object.assign({},e);return Object(A.jsx)("svg",Object(d.a)(Object(d.a)({stroke:"currentColor",fill:"#fff",strokeWidth:"0",viewBox:"0 0 16 16",height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:Object(A.jsx)("path",{fillRule:"evenodd",d:"M1.5 1.5A.5.5 0 012 1h12a.5.5 0 01.5.5v2a.5.5 0 01-.128.334L10 8.692V13.5a.5.5 0 01-.342.474l-3 1A.5.5 0 016 14.5V8.692L1.628 3.834A.5.5 0 011.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 017 8.5v5.306l2-.666V8.5a.5.5 0 01.128-.334L13.5 3.308V2h-11z",clipRule:"evenodd"})}))},ae=(n(86),function e(t){var n,r=t.item,a=t.enableNameClick,c=void 0===a||a,l=T().open,s=Object(i.b)();return Object(A.jsxs)("article",{className:"RIMO__smallCard d-flex rounded",children:[Object(A.jsx)("div",{className:"RIMO__smallCard-photo-wrapper w-100",children:Object(A.jsx)("img",{className:"RIMO__smallCard-photo w-100 h-100",src:null===r||void 0===r?void 0:r.image,alt:null===r||void 0===r?void 0:r.type})}),Object(A.jsxs)("div",{className:"RIMO__smallCard-info position-relative text-white d-flex flex-column",children:[Object(A.jsxs)("section",{className:"RIMO__smallCard-content-wrapper d-flex flex-column",children:[Object(A.jsx)("p",{className:"RIMO__smallCard-name",onClick:function(){return c?(t=r.id,M({dispatch:s,callback:y,setIsLoading:!1},{url:"".concat(O,"/").concat(t),actionSetSuccess:function(t){return l(Object(A.jsx)(e,{item:t,enableNameClick:!1}))}})):function(){};var t},children:null===r||void 0===r?void 0:r.name}),Object(A.jsxs)("span",{className:"RIMO__smallCard-status d-flex align-items-center text-capitalize",children:[Object(A.jsx)("span",{className:"RIMO__smallCard-status-icon RIMO__smallCard-status-icon--"+(null===r||void 0===r?void 0:r.status)}),null===r||void 0===r?void 0:r.status]})]}),Object(A.jsxs)("section",{className:"RIMO__smallCard-content-wrapper d-flex flex-column",children:[Object(A.jsx)("span",{className:"RIMO__smallCard-location-info-wrapper",children:"Last known location:"}),Object(A.jsx)("p",{className:"RIMO__smallCard-location-info",children:null===r||void 0===r?void 0:r.location.name})]}),Object(A.jsxs)("section",{className:"RIMO__smallCard-content-wrapper d-flex flex-column",children:[Object(A.jsx)("span",{className:"RIMO__smallCard-firstSeries-info",children:"First seen in:"}),Object(A.jsx)("p",{className:"RIMO__smallCard-firstSeries",children:null===r||void 0===r||null===(n=r.origin)||void 0===n?void 0:n.name})]})]})]})}),ce=n(100),ie=function(){var e=D((function(e){return e})).dataReducer;return e.processInfo.isLoading?Object(A.jsx)(ce.a,{color:"primary",style:{width:"5vw",height:"5vw"},children:" "}):Object(A.jsx)("main",{className:"bg-white h-100 w-100 rounded p-2 d-flex flex-wrap justify-content-between",children:e.renderData.map((function(e){return Object(A.jsx)(ae,{item:e},e.id)}))})},le=function(e){var t=e.children,n=D((function(e){return e})).dataReducer.processInfo.error;return n?Object(A.jsx)("div",{className:"text-white",children:n}):Object(A.jsx)(A.Fragment,{children:t})},se=n(101),oe=(n(87),function(){return Object(A.jsx)("header",{className:"RIMO__header bg-info justify-content-center align-items-center d-flex text-white font-monospace",children:"Rick and Morty Widget"})}),de=(n(88),function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(oe,{}),Object(A.jsxs)(se.a,{fluid:!0,className:"bg-dark RIMO p-5 d-flex flex-column justify-content-center align-items-center\r position-relative",children:[Object(A.jsx)(te,{}),Object(A.jsxs)(le,{children:[Object(A.jsx)(ie,{}),Object(A.jsx)(z,{})]})]}),Object(A.jsx)(B,{})]})}),ue=n(54),je=Object(L.c)(N),pe=Object(L.d)(je,{},Object(L.a)(ue.a));M({dispatch:pe.dispatch,callback:y});n(89);c.a.render(Object(A.jsx)(i.a,{store:pe,children:Object(A.jsx)(de,{})}),document.querySelector("#root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.1b88810f.chunk.js.map