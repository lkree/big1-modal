(this["webpackJsonpwork-time-helper"]=this["webpackJsonpwork-time-helper"]||[]).push([[0],{34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var r,n=a(15),i=a.n(n),o=a(2),c=a(10),l="workTimeHelper",d=a(22),u=function e(t){var a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Array.isArray(t),i=t instanceof Date,c=s(t);if(i)return new Date(t);if(!r){if(n)return Object(d.a)(t);if(c)return Object(o.a)({},t)}return n||c?n?(a=[],t.forEach((function(t){return a.push(e(t,r))})),a):(a={},Object.keys(t).forEach((function(n){return a[n]=e(t[n],r)})),a):t},s=function(e){return"object"===typeof e&&!Array.isArray(e)&&null!==e&&!(e instanceof Date)},O=function(e){var t=e.additionalWorkTime,a=e.mainWorkTime,r=e.workDayLength,n=e.alreadyAdditionalWorked,i=e.alreadyMainWorked;if(!a&&!t)return 0;if(!a)return r;var o=0;return n&&n>t&&(o=(n-t)/(r/a)),Math.round(a-i-o)},b=function(e){var t=e.additionalWorkTime,a=e.mainWorkTime,r=e.workDayLength,n=e.alreadyAdditionalWorked,i=e.alreadyMainWorked;if(!a)return 0;if(!n&&!i)return 0;var o=0;return n&&n>t&&(o+=i?n-t:n),Math.round(r/a*i+o)},j=function(e,t,a,r,n){var i;if(i="function"===typeof t?Object(o.a)(Object(o.a)({},e),t(e)):Object(o.a)(Object(o.a)({},e),t),r){var c=JSON.parse(localStorage.getItem(r)||"{}");localStorage.setItem(r,JSON.stringify(Object(o.a)(Object(o.a)({},c),i)))}else a.forEach((function(e){return localStorage.setItem("".concat(e),JSON.stringify(i[e]))}));null===n||void 0===n||n(i)},m=function(e,t,a){var r={};if(a){var n=JSON.parse(localStorage.getItem(a));n&&Object.keys(n).forEach((function(e){null!==n[e]&&void 0!==n[e]&&(r[e]=n[e])}))}else e.forEach((function(e){var t=JSON.parse(localStorage.getItem("".concat(e)));null!==t&&void 0!==t&&(r[e]=t)}));return t&&Object.keys(t).forEach((function(e){var a;return r[e]=null!==(a=r[e])&&void 0!==a?a:t[e]})),r},h=function(e,t){if("minutes"===t)return"".concat(e<0?"- ":"").concat(Math.abs(e));var a=e>=0?"floor":"ceil",r=Math[a](e%60),n=Math[a](e/60),i=r<0||n<0?"- ":"",o="".concat(Math.abs(r)),c="".concat(Math.abs(n));return"".concat(i).concat(1===c.length?"0"+c:c," : ").concat(1===o.length?"0"+o:o)};!function(e){e.MAIN_WORK_TIME_CHANGE="mainWorkTimeChange",e.ADDITIONAL_WORK_TIME_CHANGE="additionalWorkTimeChange",e.WORK_DAY_LENGTH_CHANGE="workDayLengthChange",e.ALREADY_MAIN_WORKED_TIME_CHANGE="alreadyMainWorkedTimeChange",e.ALREADY_ADDITIONAL_WORKED_TIME_CHANGE="alreadyAdditionalWorkedTimeChange",e.IMPORT_DATA="importData"}(r||(r={}));var f,A,y={setMainWorkTime:function(e){return{type:r.MAIN_WORK_TIME_CHANGE,payload:e}},setAdditionalWorkTime:function(e){return{type:r.ADDITIONAL_WORK_TIME_CHANGE,payload:e}},setWorkDayLength:function(e){return{type:r.WORK_DAY_LENGTH_CHANGE,payload:e}},setAlreadyWorkedMainTime:function(e){return{type:r.ALREADY_MAIN_WORKED_TIME_CHANGE,payload:e}},setAlreadyWorkedAdditionalTime:function(e){return{type:r.ALREADY_ADDITIONAL_WORKED_TIME_CHANGE,payload:e}},importData:function(){return{type:r.IMPORT_DATA}}},T=a(9),p=(f={},Object(T.a)(f,r.MAIN_WORK_TIME_CHANGE,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{mainWorkTime:t})})),Object(T.a)(f,r.ADDITIONAL_WORK_TIME_CHANGE,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{additionalWorkTime:t})})),Object(T.a)(f,r.WORK_DAY_LENGTH_CHANGE,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{workDayLength:t})})),Object(T.a)(f,r.ALREADY_MAIN_WORKED_TIME_CHANGE,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{alreadyMainWorked:t})})),Object(T.a)(f,r.ALREADY_ADDITIONAL_WORKED_TIME_CHANGE,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{alreadyAdditionalWorked:t})})),Object(T.a)(f,r.IMPORT_DATA,(function(e){var t,a=JSON.parse(localStorage.getItem("counters"));if(!a)return e;var r=+new Date((new Date).setHours(0,0,0,0)),n=+new Date((new Date).setHours(23,59,59,59)),i=null===(t=a.ids)||void 0===t?void 0:t.filter((function(e){return+e<=n&&+e>=r}));return i.length&&i.forEach((function(t){var r,n;"\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"===a.data[t].name&&(e.alreadyMainWorked=null!==(r=Math.floor(a.data[t].savedTime/60))&&void 0!==r?r:0),"\u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435"===a.data[t].name&&(e.alreadyAdditionalWorked=null!==(n=Math.floor(a.data[t].savedTime/60))&&void 0!==n?n:0)})),e})),f),v={workDayLength:480,mainWorkTime:0,additionalWorkTime:0,alreadyMainWorked:0,alreadyAdditionalWorked:0};!function(e){e.REMAINDER_CHANGE="remainderChange"}(A||(A={}));var k={setRemainderType:function(){return{type:A.REMAINDER_CHANGE}}},E={remainderViewType:"minutes"},_=Object(o.a)(Object(o.a)({},v),E),W={timeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;if(!p[t.type])return Object(o.a)({},e);var a=p[t.type](u(e,!0),t.payload);return j(e,a,Object.keys(v),l),a},viewReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=Object(o.a)({},e);switch(t.type){case A.REMAINDER_CHANGE:a.remainderViewType="minutes"===e.remainderViewType?"hours":"minutes";break;default:return Object(o.a)({},e)}return j(e,a,Object.keys(E),l),Object(o.a)({},a)}},N=Object(o.a)(Object(o.a)({},y),k),g=a(14),D=a(11),M=D.c,I=(a(23),a(1),a(37)),R=a(38),x=a(39),w=a(3),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"number"},t=e.labelText,a=e.children,r=e.id,n=e.value,i=Object(c.a)(e,["labelText","children","id","value"]);return Object(w.jsxs)(I.a,{children:[Object(w.jsx)(R.a,{for:r,children:t}),Object(w.jsx)(x.a,Object(o.a)({name:r,id:r,value:n||0===n?n:""},i)),a]})},H=a(40),L=function(e){var t=e.className,a=Object(c.a)(e,["className"]),r=function(){var e=Object(D.b)();return Object(g.a)(N,e)}(),n=r.setMainWorkTime,i=r.setAdditionalWorkTime,l=r.setAlreadyWorkedAdditionalTime,d=r.setAlreadyWorkedMainTime,u=r.setWorkDayLength,s=r.importData,j=r.setRemainderType,m=M((function(e){return e})),f=m.timeReducer,A=m.viewReducer;return Object(w.jsxs)("div",{className:"w-100 content-container",children:[Object(w.jsxs)("div",Object(o.a)(Object(o.a)({className:"p-3 position-relative ".concat(t)},a),{},{children:[Object(w.jsx)("span",{className:"position-absolute",title:"\u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435",style:{top:5,right:10,cursor:"pointer"},onClick:s,children:"\u2702"}),Object(w.jsxs)(H.a,{children:[Object(w.jsx)(C,{id:"workTimeLength",labelText:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0434\u043d\u044f",placeholder:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0434\u043d\u044f",value:f.workDayLength,onChange:function(e){var t=e.target.value;return u(+t)}}),Object(w.jsx)(C,{id:"mainWorkTime",labelText:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u044d\u043a\u0432\u0438\u0432\u0430\u043b\u0435\u043d\u0442",placeholder:"\u042d\u043a\u0432\u0438\u0432\u0430\u043b\u0435\u043d\u0442 8 \u0440\u0430\u0431\u043e\u0447\u0438\u043c \u0447\u0430\u0441\u0430\u043c",value:f.mainWorkTime,onChange:function(e){var t=e.target.value;return n(+t)}}),Object(w.jsx)(C,{id:"additionalWorkTime",labelText:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u0440\u0435\u043c\u044f",placeholder:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043d\u0435\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0435, \u043d\u043e \u0442\u043e\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c",value:f.additionalWorkTime,onChange:function(e){var t=e.target.value;return i(+t)}})]})]})),Object(w.jsx)("div",Object(o.a)(Object(o.a)({className:"p-3 mt-5 ".concat(t)},a),{},{children:Object(w.jsxs)(H.a,{children:[Object(w.jsx)(C,{id:"workedMain",labelText:"\u041e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",placeholder:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e",value:f.alreadyMainWorked,onChange:function(e){var t=e.target.value;return d(+t)}}),Object(w.jsx)(C,{id:"workedAdditional",labelText:"\u041e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",placeholder:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e",value:f.alreadyAdditionalWorked,onChange:function(e){var t=e.target.value;return l(+t)}})]})})),Object(w.jsx)("div",Object(o.a)(Object(o.a)({className:"p-3 mt-5 ".concat(t)},a),{},{children:Object(w.jsxs)(H.a,{className:"position-relative",children:[Object(w.jsx)(C,{id:"totalWorkTime",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u0435 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0440\u0430\u0441\u0441\u0447\u0451\u0442",labelText:"\u0412\u0441\u0435\u0433\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c",value:h(O(f),A.remainderViewType),disabled:!0,readOnly:!0,children:Object(w.jsx)("span",{className:"position-absolute",title:"\u0441\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u043a\u0430\u0437\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",style:{top:-5,right:10,cursor:"pointer"},onClick:j,children:"\u267e"})}),Object(w.jsx)(C,{id:"totalWorkTime",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u0435 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0440\u0430\u0441\u0441\u0447\u0451\u0442",labelText:"\u0423\u0436\u0435 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0432 \u043f\u0435\u0440\u0435\u0441\u0447\u0435\u0442\u0435 \u043d\u0430 \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0434\u043d\u044f",value:h(b(f),A.remainderViewType),disabled:!0,readOnly:!0})]})}))]})},G=a(41),K=(a(34),function(){return Object(w.jsx)(G.a,{fluid:!0,className:"bg-dark d-flex justify-content-center",style:{minHeight:"100vh",padding:"70px 3rem 20px"},children:Object(w.jsx)(L,{className:"bg-white"})})}),S=Object(g.b)(W),Y=m(Object.keys(_),_,l),J=Y.remainderViewType,V=Object(c.a)(Y,["remainderViewType"]),P=Object(g.c)(S,{timeReducer:V,viewReducer:{remainderViewType:J}});a(35);i.a.render(Object(w.jsx)(D.a,{store:P,children:Object(w.jsx)(K,{})}),document.querySelector("#root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.20e7004c.chunk.js.map