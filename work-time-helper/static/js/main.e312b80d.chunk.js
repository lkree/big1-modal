(this["webpackJsonpwork-time-helper"]=this["webpackJsonpwork-time-helper"]||[]).push([[0],{26:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var r,n=a(17),i=a.n(n),o=a(1),c=a(9),l=a(3),d=a(8);!function(e){e.MAIN_WORK_TIME_CHANGE="mainWorkTimeChange",e.ADDITIONAL_WORK_TIME_CHANGE="additionalWorkTimeChange",e.WORK_DAY_LENGTH_CHANGE="workDayLengthChange",e.ALREADY_MAIN_WORKED_TIME_CHANGE="alreadyMainWorkedTimeChange",e.ALREADY_ADDITIONAL_WORKED_TIME_CHANGE="alreadyAdditionalWorkedTimeChange",e.IMPORT_DATA="importData"}(r||(r={}));var u,s=a(18),O={workDayLength:480,mainWorkTime:0,additionalWorkTime:0,alreadyMainWorked:0,alreadyAdditionalWorked:0},j=function e(t){var a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Array.isArray(t),i=t instanceof Date,c=b(t);if(i)return new Date(t);if(!r){if(n)return Object(s.a)(t);if(c)return Object(o.a)({},t)}return n||c?n?(a=[],t.forEach((function(t){return a.push(e(t,r))})),a):(a={},Object.keys(t).forEach((function(n){return a[n]=e(t[n],r)})),a):t},b=function(e){return"object"===typeof e&&!Array.isArray(e)&&null!==e&&!(e instanceof Date)},f=function(e){var t=e.additionalWorkTime,a=e.mainWorkTime,r=e.workDayLength,n=e.alreadyAdditionalWorked,i=e.alreadyMainWorked;if(!a&&!t)return 0;if(!a)return r;var o=0;return n&&n>t&&(o=(n-t)/(r/a)),Math.round(a-i-o)},h=function(e){var t=e.additionalWorkTime,a=e.mainWorkTime,r=e.workDayLength,n=e.alreadyAdditionalWorked,i=e.alreadyMainWorked;if(!a)return 0;if(!n&&!i)return 0;var o=0;return n&&n>t&&(o+=i?n-t:n),Math.round(r/a*i+o)},v=function(e,t){if("minutes"===t)return null!==e&&void 0!==e?e:"";var a="".concat(Math.floor(e%60)),r="".concat(Math.floor(e/60));return"".concat(1===r.length?"0"+r:r," : ").concat(1===a.length?"0"+a:a)},A=(u={},Object(d.a)(u,r.MAIN_WORK_TIME_CHANGE,(function(e,t){var a=t.payload;return Object(o.a)(Object(o.a)({},e),{},{mainWorkTime:a})})),Object(d.a)(u,r.ADDITIONAL_WORK_TIME_CHANGE,(function(e,t){var a=t.payload;return Object(o.a)(Object(o.a)({},e),{},{additionalWorkTime:a})})),Object(d.a)(u,r.WORK_DAY_LENGTH_CHANGE,(function(e,t){var a=t.payload;return Object(o.a)(Object(o.a)({},e),{},{workDayLength:a})})),Object(d.a)(u,r.ALREADY_MAIN_WORKED_TIME_CHANGE,(function(e,t){var a=t.payload;return Object(o.a)(Object(o.a)({},e),{},{alreadyMainWorked:a})})),Object(d.a)(u,r.ALREADY_ADDITIONAL_WORKED_TIME_CHANGE,(function(e,t){var a=t.payload;return Object(o.a)(Object(o.a)({},e),{},{alreadyAdditionalWorked:a})})),Object(d.a)(u,r.IMPORT_DATA,(function(e){var t,a=JSON.parse(localStorage.getItem("counters")||"");if(!a)return e;var r=+new Date((new Date).setHours(0,0,0,0)),n=+new Date((new Date).setHours(23,59,59,59)),i=null===(t=a.ids)||void 0===t?void 0:t.filter((function(e){return+e<=n&&+e>=r}));return i.length&&i.forEach((function(t){var r,n;"\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"===a.data[t].name&&(e.alreadyMainWorked=null!==(r=Math.floor(a.data[t].savedTime/60))&&void 0!==r?r:0),"\u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435"===a.data[t].name&&(e.alreadyAdditionalWorked=null!==(n=Math.floor(a.data[t].savedTime/60))&&void 0!==n?n:0)})),e})),u),y=function(e,t){var a=A[t.type](j(e,!0),t);return t.setStorageState(a),a},m=a(13),p=Object(l.createContext)([O,function(e){}]),T=a(29),_=a(30),k=a(31),E=a(2),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"number"},t=e.labelText,a=e.children,r=e.id,n=e.value,i=Object(m.a)(e,["labelText","children","id","value"]);return Object(E.jsxs)(T.a,{children:[Object(E.jsx)(_.a,{for:r,children:t}),Object(E.jsx)(k.a,Object(o.a)({name:r,id:r,value:n||0===n?n:""},i)),a]})},N=a(32),W=function(e){var t=e.className,a=Object(m.a)(e,["className"]),n=Object(l.useContext)(p),i=Object(c.a)(n,2),d=i[0],u=i[1],s=Object(l.useState)("minutes"),O=Object(c.a)(s,2),j=O[0],b=O[1];return Object(E.jsxs)("div",{className:"w-100 content-container",children:[Object(E.jsxs)("div",Object(o.a)(Object(o.a)({className:"p-3 position-relative ".concat(t)},a),{},{children:[Object(E.jsx)("span",{className:"position-absolute",title:"\u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435",style:{top:5,right:10,cursor:"pointer"},onClick:function(){return u({type:r.IMPORT_DATA})},children:"\u2702"}),Object(E.jsxs)(N.a,{children:[Object(E.jsx)(g,{id:"workTimeLength",labelText:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0434\u043d\u044f",placeholder:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0434\u043d\u044f",value:d.workDayLength,onChange:function(e){var t=e.target.value;return u({type:r.WORK_DAY_LENGTH_CHANGE,payload:+t})}}),Object(E.jsx)(g,{id:"mainWorkTime",labelText:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u044d\u043a\u0432\u0438\u0432\u0430\u043b\u0435\u043d\u0442",placeholder:"\u042d\u043a\u0432\u0438\u0432\u0430\u043b\u0435\u043d\u0442 8 \u0440\u0430\u0431\u043e\u0447\u0438\u043c \u0447\u0430\u0441\u0430\u043c",value:d.mainWorkTime,onChange:function(e){var t=e.target.value;return u({type:r.MAIN_WORK_TIME_CHANGE,payload:+t})}}),Object(E.jsx)(g,{id:"additionalWorkTime",labelText:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u0440\u0435\u043c\u044f",placeholder:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043d\u0435\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0435, \u043d\u043e \u0442\u043e\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c",value:d.additionalWorkTime,onChange:function(e){var t=e.target.value;return u({type:r.ADDITIONAL_WORK_TIME_CHANGE,payload:+t})}})]})]})),Object(E.jsx)("div",Object(o.a)(Object(o.a)({className:"p-3 mt-5 ".concat(t)},a),{},{children:Object(E.jsxs)(N.a,{children:[Object(E.jsx)(g,{id:"workedMain",labelText:"\u041e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",placeholder:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e",value:d.alreadyMainWorked,onChange:function(e){var t=e.target.value;return u({type:r.ALREADY_MAIN_WORKED_TIME_CHANGE,payload:+t})}}),Object(E.jsx)(g,{id:"workedAdditional",labelText:"\u041e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",placeholder:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e",value:d.alreadyAdditionalWorked,onChange:function(e){var t=e.target.value;return u({type:r.ALREADY_ADDITIONAL_WORKED_TIME_CHANGE,payload:+t})}})]})})),Object(E.jsx)("div",Object(o.a)(Object(o.a)({className:"p-3 mt-5 ".concat(t)},a),{},{children:Object(E.jsxs)(N.a,{className:"position-relative",children:[Object(E.jsx)(g,{id:"totalWorkTime",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u0435 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0440\u0430\u0441\u0441\u0447\u0451\u0442",labelText:"\u0412\u0441\u0435\u0433\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c",value:v(f(d),j),disabled:!0,readOnly:!0,children:Object(E.jsx)("span",{className:"position-absolute",title:"\u0441\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u043a\u0430\u0437\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",style:{top:-5,right:10,cursor:"pointer"},onClick:function(){return b((function(e){return"minutes"===e?"hours":"minutes"}))},children:"\u267e"})}),Object(E.jsx)(g,{id:"totalWorkTime",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u0435 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0440\u0430\u0441\u0441\u0447\u0451\u0442",labelText:"\u0423\u0436\u0435 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0432 \u043f\u0435\u0440\u0435\u0441\u0447\u0435\u0442\u0435 \u043d\u0430 \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0434\u043d\u044f",value:v(h(d),j),disabled:!0,readOnly:!0})]})}))]})},D=a(33),I=(a(26),function(){var e=function(e){var t=e.keys,a=e.initialState,r=e.wrapperKey,n={};if(a){var i=Object.keys(a);if(r){var d={};i.forEach((function(e){return d[e]=a[e]})),localStorage.setItem(r,JSON.stringify(d))}else i.forEach((function(e){return localStorage.setItem(e,JSON.stringify(a[e]))}))}if(r){var u=JSON.parse(localStorage.getItem(r));u&&Object.keys(u).forEach((function(e){null!==u[e]&&void 0!==u[e]&&(n[e]=u[e])}))}else t.forEach((function(e){var t=JSON.parse(localStorage.getItem(e));null!==t&&void 0!==t&&(n[e]=t)}));var s=Object(l.useState)(n),O=Object(c.a)(s,2),j=O[0],b=O[1];return[j,function(e){var a;a="function"===typeof e?Object(o.a)(Object(o.a)({},j),e(j)):Object(o.a)(Object(o.a)({},j),e),r?localStorage.setItem(r,JSON.stringify(a)):t.forEach((function(e){return localStorage.setItem(e,JSON.stringify(a[e]))})),b(a)}]}({keys:Object.keys(O),wrapperKey:"workTimeHelper"}),t=Object(c.a)(e,2),a=t[0],r=t[1],n=Object(l.useReducer)(y,Object(o.a)(Object(o.a)({},O),a)),i=Object(c.a)(n,2),d=i[0],u=i[1];return Object(E.jsx)(p.Provider,{value:[d,function(e){return u(Object(o.a)(Object(o.a)({},e),{},{setStorageState:r}))}],children:Object(E.jsx)(D.a,{fluid:!0,className:"bg-dark d-flex justify-content-center",style:{minHeight:"100vh",padding:"70px 3rem 20px"},children:Object(E.jsx)(W,{className:"bg-white"})})})});a(27);i.a.render(Object(E.jsx)(I,{}),document.querySelector("#root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.e312b80d.chunk.js.map