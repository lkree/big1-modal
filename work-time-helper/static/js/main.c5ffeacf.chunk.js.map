{"version":3,"sources":["misc/actions.ts","misc/constants.ts","misc/utils.ts","reducers/rootReducers.ts","contexts/AppContext.ts","components/InputItem.tsx","components/ContentContainer.tsx","components/App.tsx","hooks/useLocalStorage.ts","index.tsx"],"names":["Actions","initialState","workDayLength","MINUTES_IN_HOUR","mainWorkTime","additionalWorkTime","alreadyMainWorked","alreadyAdditionalWorked","clone","data","result","deep","isArray","Array","isDate","Date","isDataObject","isObject","forEach","v","push","Object","keys","k","totalCalc","additionalWorkedTime","Math","round","calcWorkAmount","worked","formatDate","value","workRemainderType","abs","mathFn","minutes","hours","sign","stringMinutes","stringHours","length","stateModifiers","MAIN_WORK_TIME_CHANGE","state","payload","ADDITIONAL_WORK_TIME_CHANGE","WORK_DAY_LENGTH_CHANGE","ALREADY_MAIN_WORKED_TIME_CHANGE","ALREADY_ADDITIONAL_WORKED_TIME_CHANGE","IMPORT_DATA","countersData","JSON","parse","localStorage","getItem","currentDayStart","setHours","currentDayEnd","ids","filter","id","name","floor","savedTime","rootReducer","action","newState","type","setStorageState","AppContext","createContext","InputItem","labelText","children","rest","FormGroup","Label","for","Input","ContentContainer","className","useContext","dispatch","useState","setWorkRemainderType","title","style","top","right","cursor","onClick","Form","placeholder","onChange","target","disabled","readOnly","App","wrapperKey","commonState","initialKeys","dataForStorage","setItem","stringify","savedState","undefined","record","setState","resultState","useLocalStorage","storageState","useReducer","Provider","Container","fluid","minHeight","padding","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.c5ffeacf.chunk.js","sourcesContent":["export enum Actions {\r\n    MAIN_WORK_TIME_CHANGE = 'mainWorkTimeChange',\r\n    ADDITIONAL_WORK_TIME_CHANGE = 'additionalWorkTimeChange',\r\n    WORK_DAY_LENGTH_CHANGE = 'workDayLengthChange',\r\n    ALREADY_MAIN_WORKED_TIME_CHANGE = 'alreadyMainWorkedTimeChange',\r\n    ALREADY_ADDITIONAL_WORKED_TIME_CHANGE = 'alreadyAdditionalWorkedTimeChange',\r\n    IMPORT_DATA = 'importData'\r\n}\r\n","export const MINUTES_IN_HOUR = 60;\r\nexport const STANDARD_WORK_DAY = 8;\r\nexport const MILLISECONDS_IN_SECOND = 1000;\r\nexport const MILLISECONDS_IN_MINUTE = MILLISECONDS_IN_SECOND * 60;\r\nexport const MILLISECONDS_IN_HOUR = MILLISECONDS_IN_MINUTE * MINUTES_IN_HOUR;\r\nexport const MILLISECONDS_IN_DAY = MILLISECONDS_IN_HOUR * 24;\r\n\r\nexport const initialState = {\r\n    workDayLength: MINUTES_IN_HOUR * STANDARD_WORK_DAY,\r\n    mainWorkTime: 0,\r\n    additionalWorkTime: 0,\r\n    alreadyMainWorked: 0,\r\n    alreadyAdditionalWorked: 0\r\n}\r\n","import { IState } from './interfaces';\r\nimport { MINUTES_IN_HOUR } from './constants';\r\n\r\ninterface ITotalCalcProps {\r\n    mainWorkTime: number;\r\n    additionalWorkTime: number;\r\n    workDayLength: number;\r\n    alreadyMainWorked: number;\r\n    alreadyAdditionalWorked: number;\r\n}\r\n\r\ninterface IWorkAmountProps extends ITotalCalcProps {\r\n\r\n}\r\n\r\nexport const clone = <T extends unknown>(data: T, deep: boolean = false): T => {\r\n    const isArray = Array.isArray(data);\r\n    const isDate = data instanceof Date;\r\n    const isDataObject = isObject(data);\r\n\r\n    if (isDate) return new Date(data as Date) as T;\r\n\r\n    if (!deep) {\r\n        if (isArray) return [...data as unknown[]] as T;\r\n        if (isDataObject) return { ...data as object } as T;\r\n    }\r\n\r\n    if (!isArray && !isDataObject) {\r\n        return data;\r\n    }\r\n\r\n    let result: T;\r\n\r\n    if (isArray) {\r\n        result = [] as T;\r\n\r\n        (data as unknown[]).forEach((v) => (result as unknown[]).push(clone(v, deep)));\r\n\r\n        return result;\r\n    }\r\n\r\n    result = {} as T;\r\n\r\n    (Object.keys(data as object) as (keyof T)[]).forEach((k) => (result[k] as T) = clone(data[k] as T, deep));\r\n\r\n    return result;\r\n}\r\n\r\nconst isObject = (data: unknown): data is object => {\r\n    return typeof data === 'object' && !Array.isArray(data) && data !== null && !(data instanceof Date);\r\n}\r\n\r\nexport const stateStringToNumbers = (state: IState) => {\r\n    (Object.keys(state) as (keyof IState)[]).forEach(k => state[k] = +state[k]);\r\n\r\n    return state;\r\n}\r\n\r\nexport const totalCalc = ({ additionalWorkTime, mainWorkTime, workDayLength, alreadyAdditionalWorked, alreadyMainWorked }: ITotalCalcProps): number => {\r\n    if (!mainWorkTime && !additionalWorkTime) return 0;\r\n\r\n    if (!mainWorkTime) return workDayLength;\r\n\r\n    let additionalWorkedTime: number = 0;\r\n\r\n    if (alreadyAdditionalWorked && alreadyAdditionalWorked > additionalWorkTime) {\r\n        additionalWorkedTime = (alreadyAdditionalWorked - additionalWorkTime) / (workDayLength / mainWorkTime);\r\n    }\r\n\r\n    return Math.round(mainWorkTime - alreadyMainWorked - additionalWorkedTime);\r\n}\r\n\r\nexport const calcWorkAmount = ({ additionalWorkTime, mainWorkTime, workDayLength, alreadyAdditionalWorked, alreadyMainWorked }: IWorkAmountProps): number => {\r\n    if (!mainWorkTime) return 0;\r\n\r\n    if (!alreadyAdditionalWorked && !alreadyMainWorked) return 0;\r\n\r\n    let worked: number = 0;\r\n\r\n    if (alreadyAdditionalWorked && alreadyAdditionalWorked > additionalWorkTime) {\r\n        if (!alreadyMainWorked) worked += alreadyAdditionalWorked;\r\n        else worked += alreadyAdditionalWorked - additionalWorkTime;\r\n    }\r\n\r\n    return Math.round((workDayLength / mainWorkTime) * alreadyMainWorked + worked);\r\n}\r\n\r\nexport const formatDate = (value: number, workRemainderType: 'minutes' | 'hours') => {\r\n    if (workRemainderType === 'minutes') return `${value < 0 ? '- ' : ''}${Math.abs(value)}`;\r\n\r\n    const mathFn = value >= 0 ? 'floor' : 'ceil';\r\n    const minutes = Math[mathFn](value % MINUTES_IN_HOUR);\r\n    const hours = Math[mathFn](value / MINUTES_IN_HOUR);\r\n    const sign = minutes < 0 || hours < 0 ? '- ' : '';\r\n    const stringMinutes = `${Math.abs(minutes)}`;\r\n    const stringHours = `${Math.abs(hours)}`;\r\n\r\n    return `${sign}${stringHours.length === 1 ? '0' + stringHours : stringHours} : ${stringMinutes.length === 1 ? '0' + stringMinutes : stringMinutes}`;\r\n}\r\n","import { IState, IAction } from '../misc/interfaces';\r\nimport { Actions } from '../misc/actions';\r\nimport { clone } from '../misc/utils';\r\n\r\ntype MainWorkTimeChangeProps = Pick<IAction, 'payload'>;\r\ntype AdditionalWorkTimeChangeProps = Pick<IAction, 'payload'>;\r\ntype AlreadyMainWorkedTimeChange = Pick<IAction, 'payload'>;\r\ntype AlreadyAdditionalWorkedTimeChange = Pick<IAction, 'payload'>;\r\ntype WorkDayLengthChangeProps = Pick<IAction, 'payload'>;\r\n\r\nconst stateModifiers = {\r\n    [Actions.MAIN_WORK_TIME_CHANGE]: (state: IState, { payload }: MainWorkTimeChangeProps): IState => ({\r\n        ...state,\r\n        mainWorkTime: payload\r\n    }),\r\n    [Actions.ADDITIONAL_WORK_TIME_CHANGE]: (state: IState, { payload }: AdditionalWorkTimeChangeProps): IState => ({\r\n        ...state,\r\n        additionalWorkTime: payload\r\n    }),\r\n    [Actions.WORK_DAY_LENGTH_CHANGE]: (state: IState, { payload }: WorkDayLengthChangeProps): IState => ({\r\n        ...state,\r\n        workDayLength: payload\r\n    }),\r\n    [Actions.ALREADY_MAIN_WORKED_TIME_CHANGE]: (state: IState, { payload }: AlreadyMainWorkedTimeChange) => ({\r\n        ...state,\r\n        alreadyMainWorked: payload\r\n    }),\r\n    [Actions.ALREADY_ADDITIONAL_WORKED_TIME_CHANGE]: (state: IState, { payload }: AlreadyAdditionalWorkedTimeChange) => ({\r\n        ...state,\r\n        alreadyAdditionalWorked: payload\r\n    }),\r\n    [Actions.IMPORT_DATA]: (state: IState) => {\r\n        const countersData = JSON.parse(localStorage.getItem('counters') || '');\r\n\r\n        if (!countersData) return state;\r\n\r\n        const currentDayStart = +new Date(new Date().setHours(0, 0, 0, 0));\r\n        const currentDayEnd = +new Date(new Date().setHours(23, 59, 59, 59));\r\n\r\n        const ids = countersData.ids?.filter((id: number) => +id <= currentDayEnd && +id >= currentDayStart);\r\n\r\n        if (ids.length) {\r\n            ids.forEach((id: number) => {\r\n                if (countersData.data[id].name === 'программирование') state.alreadyMainWorked = Math.floor(countersData.data[id].savedTime / 60) ?? 0;\r\n                if (countersData.data[id].name === 'остальное') state.alreadyAdditionalWorked = Math.floor(countersData.data[id].savedTime / 60) ?? 0;\r\n            });\r\n        }\r\n\r\n        return state;\r\n    }\r\n}\r\n\r\nexport const rootReducer = (state: IState, action: IAction): IState => {\r\n    const newState = stateModifiers[action.type](clone(state, true), action);\r\n\r\n    action.setStorageState(newState);\r\n\r\n    return newState;\r\n}\r\n","import { IAction } from '../misc/interfaces';\r\nimport { initialState } from '../misc/constants';\r\nimport { createContext } from 'react';\r\n\r\nexport const AppContext = createContext([initialState, (data: Omit<IAction, 'setStorageState'>) => {}] as const);\r\n","import { FormGroup, Input, Label } from 'reactstrap';\r\nimport { InputType } from 'reactstrap/es/Input';\r\nimport { HTMLAttributes } from 'react';\r\n\r\ninterface IProps extends HTMLAttributes<HTMLInputElement> {\r\n    labelText?: string;\r\n    type?: InputType;\r\n    value?: string | number;\r\n    disabled?: boolean;\r\n    readOnly?: boolean;\r\n}\r\n\r\nexport const InputItem = ({ labelText, children, id, value, ...rest }: IProps = { type: 'number' }) => {\r\n\r\n    return (\r\n        <FormGroup>\r\n            <Label for={ id }>{ labelText }</Label>\r\n            <Input name={ id } id={ id } value={ value || value === 0 ? value : '' } { ...rest } />\r\n            { children }\r\n        </FormGroup>\r\n    )\r\n}\r\n","import { ChangeEventHandler, HTMLAttributes, useContext, useState } from 'react';\r\nimport { calcWorkAmount, formatDate, totalCalc } from '../misc/utils';\r\nimport { AppContext } from '../contexts/AppContext';\r\nimport { Actions } from '../misc/actions';\r\nimport { InputItem } from './InputItem';\r\nimport { Form } from 'reactstrap';\r\n\r\ninterface IProps extends HTMLAttributes<HTMLDivElement> {}\r\n\r\nexport const ContentContainer = ({ className, ...rest }: IProps) => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n    const [workRemainderType, setWorkRemainderType] = useState<'minutes' | 'hours'>('minutes');\r\n\r\n    const onWorkDayLengthChange: ChangeEventHandler<HTMLInputElement> = ({ target: { value } }) => dispatch({ type: Actions.WORK_DAY_LENGTH_CHANGE, payload: +value });\r\n    const onMainJobTimeChange: ChangeEventHandler<HTMLInputElement> = ({ target: { value } }) => dispatch({ type: Actions.MAIN_WORK_TIME_CHANGE, payload: +value });\r\n    const onAdditionalJobTimeChange: ChangeEventHandler<HTMLInputElement> = ({ target: { value } }) => dispatch({ type: Actions.ADDITIONAL_WORK_TIME_CHANGE, payload: +value });\r\n    const onWorkedMainChange: ChangeEventHandler<HTMLInputElement> = ({ target: { value } }) => dispatch({ type: Actions.ALREADY_MAIN_WORKED_TIME_CHANGE, payload: +value });\r\n    const onAdditionalWorked: ChangeEventHandler<HTMLInputElement> = ({ target: { value } }) => dispatch({ type: Actions.ALREADY_ADDITIONAL_WORKED_TIME_CHANGE, payload: +value });\r\n    const onClickChangeWorkRemainder = () => setWorkRemainderType(value => value === 'minutes' ? 'hours' : 'minutes');\r\n    const onImportDataClick = () => dispatch({ type: Actions.IMPORT_DATA });\r\n\r\n    return (\r\n        <div className=\"w-100 content-container\">\r\n            <div className={`p-3 position-relative ${className}`} { ...rest }>\r\n                <span className=\"position-absolute\"\r\n                      title=\"импортировать данные\"\r\n                      style={{ top: 5, right: 10, cursor: 'pointer' }}\r\n                      onClick={ onImportDataClick }>\r\n                        &#9986;\r\n                </span>\r\n\r\n                <Form>\r\n                    <InputItem id=\"workTimeLength\"\r\n                               labelText=\"Длительность рабочего дня\"\r\n                               placeholder=\"Длительность рабочего дня\"\r\n                               value={ state.workDayLength }\r\n                               onChange={ onWorkDayLengthChange } />\r\n                    <InputItem id=\"mainWorkTime\"\r\n                               labelText=\"Основной рабочий эквивалент\"\r\n                               placeholder=\"Эквивалент 8 рабочим часам\"\r\n                               value={ state.mainWorkTime }\r\n                               onChange={ onMainJobTimeChange } />\r\n                    <InputItem id=\"additionalWorkTime\"\r\n                               labelText=\"Дополнительное необязательно время\"\r\n                               placeholder=\"Дополнительное время, которое невключено в основное, но тоже можно отработать\"\r\n                               value={ state.additionalWorkTime }\r\n                               onChange={ onAdditionalJobTimeChange } />\r\n                </Form>\r\n            </div>\r\n\r\n            <div className={`p-3 mt-5 ${className}`} { ...rest }>\r\n                <Form>\r\n                    <InputItem id=\"workedMain\"\r\n                               labelText=\"Отработано основного времени\"\r\n                               placeholder=\"Сколько основного отработано\"\r\n                               value={ state.alreadyMainWorked }\r\n                               onChange={ onWorkedMainChange } />\r\n                    <InputItem id=\"workedAdditional\"\r\n                               labelText=\"Отработано дополнительного времени\"\r\n                               placeholder=\"Сколько дополнительного отработано\"\r\n                               value={ state.alreadyAdditionalWorked }\r\n                               onChange={ onAdditionalWorked } />\r\n                </Form>\r\n            </div>\r\n\r\n            <div className={`p-3 mt-5 ${className}`} { ...rest }>\r\n                <Form className='position-relative'>\r\n                    <InputItem id=\"totalWorkTime\"\r\n                               type=\"text\"\r\n                               placeholder=\"Введите время выше и получите рассчёт\"\r\n                               labelText='Всего необходимо отработать'\r\n                               value={ formatDate(totalCalc(state), workRemainderType) }\r\n                               disabled\r\n                               readOnly>\r\n                        <span className=\"position-absolute\"\r\n                              title=\"сменить способ показа времени\"\r\n                              style={{ top: -5, right: 10, cursor: 'pointer' }}\r\n                              onClick={ onClickChangeWorkRemainder }>\r\n                            &#9854;\r\n                        </span>\r\n                    </InputItem>\r\n\r\n                    <InputItem id=\"totalWorkTime\"\r\n                               type=\"text\"\r\n                               placeholder=\"Введите время выше и получите рассчёт\"\r\n                               labelText='Уже отработано в пересчете на длительность рабочего дня'\r\n                               value={ formatDate(calcWorkAmount(state), workRemainderType) }\r\n                               disabled\r\n                               readOnly />\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { useLocalStorage } from '../hooks/useLocalStorage';\r\nimport { rootReducer } from '../reducers/rootReducers';\r\nimport { ContentContainer } from './ContentContainer';\r\nimport { IState, IAction } from '../misc/interfaces';\r\nimport { AppContext } from '../contexts/AppContext';\r\nimport { initialState } from '../misc/constants';\r\nimport { Container } from 'reactstrap';\r\nimport { useReducer } from 'react';\r\n\r\nimport './App.sass';\r\n\r\nexport const App = () => {\r\n    const [storageState, setStorageState] = useLocalStorage({ keys: Object.keys(initialState) as Array<keyof IState>, wrapperKey: 'workTimeHelper' });\r\n    const [state, dispatch] = useReducer<typeof rootReducer>(rootReducer, { ...initialState, ...storageState });\r\n    const customDispatch = (data: Omit<IAction, 'setStorageState'>) => dispatch({ ...data, setStorageState } as IAction);\r\n\r\n    return (\r\n        <AppContext.Provider value={[state, customDispatch]}>\r\n            <Container fluid className=\"bg-dark d-flex justify-content-center\" style={{ minHeight: '100vh', padding: '70px 3rem 20px' }}>\r\n                <ContentContainer className=\"bg-white\" />\r\n            </Container>\r\n        </AppContext.Provider>\r\n    )\r\n};\r\n","import { IState } from '../misc/interfaces';\r\nimport { useState } from 'react';\r\n\r\ntype UseLocalStorage = ({ keys, initialState, wrapperKey }: { keys: Array<keyof IState>, initialState?: IState, wrapperKey?: string }) => [Partial<IState>, Function];\r\ntype ISetStorageProps = ((state: IState) => IState) | IState;\r\n\r\n\r\nexport const useLocalStorage: UseLocalStorage = ({ keys, initialState, wrapperKey }) => {\r\n   const commonState = {} as IState;\r\n\r\n   if (initialState) {\r\n      const initialKeys = Object.keys(initialState) as Array<keyof IState>;\r\n\r\n      if (wrapperKey) {\r\n         const dataForStorage: Record<string, unknown> = {};\r\n\r\n         initialKeys.forEach(k => dataForStorage[k] = initialState[k]);\r\n         localStorage.setItem(wrapperKey, JSON.stringify(dataForStorage));\r\n      } else {\r\n         initialKeys.forEach(k => localStorage.setItem(k, JSON.stringify(initialState[k])));\r\n      }\r\n   }\r\n\r\n   if (wrapperKey) {\r\n      const savedState = JSON.parse(localStorage.getItem(wrapperKey) as string);\r\n\r\n      savedState && Object.keys(savedState).forEach(k => {\r\n         if (savedState[k] !== null && savedState[k] !== undefined) commonState[k as keyof IState] = savedState[k];\r\n      });\r\n   } else {\r\n      keys.forEach(k => {\r\n         const record = JSON.parse(localStorage.getItem(k) as string);\r\n\r\n         if (record !== null && record !== undefined) commonState[k] = record;\r\n      });\r\n   }\r\n\r\n   const [state, setState] = useState(commonState);\r\n\r\n   const storageSetState = (newState: ISetStorageProps) => {\r\n      let resultState: IState;\r\n\r\n      if (typeof newState === 'function') {\r\n         resultState = { ...state, ...newState(state) };\r\n      } else {\r\n         resultState = { ...state, ...newState };\r\n      }\r\n\r\n      if (wrapperKey) localStorage.setItem(wrapperKey, JSON.stringify(resultState))\r\n      else keys.forEach(k => localStorage.setItem(k, JSON.stringify(resultState[k])));\r\n\r\n      setState(resultState);\r\n   };\r\n\r\n   return [state, storageSetState];\r\n}\r\n","import { default as ReactDOM } from 'react-dom';\r\nimport { App } from './components/App';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));\r\n"],"sourceRoot":""}