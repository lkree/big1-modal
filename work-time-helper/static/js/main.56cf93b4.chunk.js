(this["webpackJsonpwork-time-helper"]=this["webpackJsonpwork-time-helper"]||[]).push([[0],{26:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var r,n,i=a(17),o=a.n(i),c=a(1),l=a(9),d=a(3),u=a(8),s=a(18),O=function e(t){var a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Array.isArray(t),i=t instanceof Date,o=j(t);if(i)return new Date(t);if(!r){if(n)return Object(s.a)(t);if(o)return Object(c.a)({},t)}return n||o?n?(a=[],t.forEach((function(t){return a.push(e(t,r))})),a):(a={},Object.keys(t).forEach((function(n){return a[n]=e(t[n],r)})),a):t},j=function(e){return"object"===typeof e&&!Array.isArray(e)&&null!==e&&!(e instanceof Date)};!function(e){e.MAIN_WORK_TIME_CHANGE="mainWorkTimeChange",e.ADDITIONAL_WORK_TIME_CHANGE="additionalWorkTimeChange",e.WORK_DAY_LENGTH_CHANGE="workDayLengthChange",e.ALREADY_MAIN_WORKED_TIME_CHANGE="alreadyMainWorkedTimeChange",e.ALREADY_ADDITIONAL_WORKED_TIME_CHANGE="alreadyAdditionalWorkedTimeChange",e.IMPORT_DATA="importData"}(r||(r={}));var b=(n={},Object(u.a)(n,r.MAIN_WORK_TIME_CHANGE,(function(e,t){var a=t.payload;return Object(c.a)(Object(c.a)({},e),{},{mainWorkTime:a})})),Object(u.a)(n,r.ADDITIONAL_WORK_TIME_CHANGE,(function(e,t){var a=t.payload;return Object(c.a)(Object(c.a)({},e),{},{additionalWorkTime:a})})),Object(u.a)(n,r.WORK_DAY_LENGTH_CHANGE,(function(e,t){var a=t.payload;return Object(c.a)(Object(c.a)({},e),{},{workDayLength:a})})),Object(u.a)(n,r.ALREADY_MAIN_WORKED_TIME_CHANGE,(function(e,t){var a=t.payload;return Object(c.a)(Object(c.a)({},e),{},{alreadyMainWorked:a})})),Object(u.a)(n,r.ALREADY_ADDITIONAL_WORKED_TIME_CHANGE,(function(e,t){var a=t.payload;return Object(c.a)(Object(c.a)({},e),{},{alreadyAdditionalWorked:a})})),Object(u.a)(n,r.IMPORT_DATA,(function(e){var t,a=JSON.parse(localStorage.getItem("counters")||"");if(!a)return e;var r=+new Date((new Date).setHours(0,0,0,0)),n=+new Date((new Date).setHours(23,59,59,59)),i=null===(t=a.ids)||void 0===t?void 0:t.filter((function(e){return+e<=n&&+e>=r}));return i.length&&i.forEach((function(t){var r,n;"\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"===a.data[t].name&&(e.alreadyMainWorked=null!==(r=Math.floor(a.data[t].savedTime/60))&&void 0!==r?r:0),"\u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435"===a.data[t].name&&(e.alreadyAdditionalWorked=null!==(n=Math.floor(a.data[t].savedTime/60))&&void 0!==n?n:0)})),e})),n),f=function(e){e.workRemainder=function(e){var t=e.additionalWorkTime,a=e.mainWorkTime,r=e.workDayLength,n=e.alreadyAdditionalWorked,i=e.alreadyMainWorked;if(!a&&!t)return 0;if(!a)return r;var o=0;return n&&n>t&&(o=(n-t)/(r/a)),Math.round(a-i-o)}(e)},h=function(e,t){var a=b[t.type](O(e,!0),t);return f(a),t.setStorageState(a),a},v=a(13),A={workDayLength:480,mainWorkTime:0,additionalWorkTime:0,workRemainder:480,alreadyMainWorked:0,alreadyAdditionalWorked:0},m=Object(d.createContext)([A,function(e){}]),p=a(29),y=a(30),T=a(31),_=a(2),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"number"},t=e.labelText,a=e.children,r=e.id,n=e.value,i=Object(v.a)(e,["labelText","children","id","value"]);return Object(_.jsxs)(p.a,{children:[Object(_.jsx)(y.a,{for:r,children:t}),Object(_.jsx)(T.a,Object(c.a)({name:r,id:r,value:n||""},i)),a]})},E=a(32),g=function(e){var t=e.className,a=Object(v.a)(e,["className"]),n=Object(d.useContext)(m),i=Object(l.a)(n,2),o=i[0],u=i[1],s=Object(d.useState)("minutes"),O=Object(l.a)(s,2),j=O[0],b=O[1];return Object(_.jsxs)("div",{className:"w-100 content-container",children:[Object(_.jsxs)("div",Object(c.a)(Object(c.a)({className:"p-3 position-relative ".concat(t)},a),{},{children:[Object(_.jsx)("span",{className:"position-absolute",title:"\u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435",style:{top:5,right:10,cursor:"pointer"},onClick:function(){return u({type:r.IMPORT_DATA})},children:"\u2702"}),Object(_.jsxs)(E.a,{children:[Object(_.jsx)(k,{id:"workTimeLength",labelText:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0434\u043d\u044f",placeholder:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0434\u043d\u044f",value:o.workDayLength,onChange:function(e){var t=e.target.value;return u({type:r.WORK_DAY_LENGTH_CHANGE,payload:+t})}}),Object(_.jsx)(k,{id:"mainWorkTime",labelText:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u044d\u043a\u0432\u0438\u0432\u0430\u043b\u0435\u043d\u0442",placeholder:"\u042d\u043a\u0432\u0438\u0432\u0430\u043b\u0435\u043d\u0442 8 \u0440\u0430\u0431\u043e\u0447\u0438\u043c \u0447\u0430\u0441\u0430\u043c",value:o.mainWorkTime,onChange:function(e){var t=e.target.value;return u({type:r.MAIN_WORK_TIME_CHANGE,payload:+t})}}),Object(_.jsx)(k,{id:"additionalWorkTime",labelText:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u0440\u0435\u043c\u044f",placeholder:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043d\u0435\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0435, \u043d\u043e \u0442\u043e\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c",value:o.additionalWorkTime,onChange:function(e){var t=e.target.value;return u({type:r.ADDITIONAL_WORK_TIME_CHANGE,payload:+t})}})]})]})),Object(_.jsx)("div",Object(c.a)(Object(c.a)({className:"p-3 mt-5 ".concat(t)},a),{},{children:Object(_.jsxs)(E.a,{children:[Object(_.jsx)(k,{id:"workedMain",labelText:"\u041e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",placeholder:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e",value:o.alreadyMainWorked,onChange:function(e){var t=e.target.value;return u({type:r.ALREADY_MAIN_WORKED_TIME_CHANGE,payload:+t})}}),Object(_.jsx)(k,{id:"workedAdditional",labelText:"\u041e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",placeholder:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e",value:o.alreadyAdditionalWorked,onChange:function(e){var t=e.target.value;return u({type:r.ALREADY_ADDITIONAL_WORKED_TIME_CHANGE,payload:+t})}})]})})),Object(_.jsx)("div",Object(c.a)(Object(c.a)({className:"p-3 mt-5 ".concat(t)},a),{},{children:Object(_.jsx)(E.a,{className:"position-relative",children:Object(_.jsx)(k,{id:"totalWorkTime",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u0435 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0440\u0430\u0441\u0441\u0447\u0451\u0442",labelText:"\u0412\u0441\u0435\u0433\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c",value:function(){var e;if("minutes"===j)return null!==(e=o.workRemainder)&&void 0!==e?e:"";var t="".concat(Math.floor(o.workRemainder%60)),a="".concat(Math.floor(o.workRemainder/60));return"".concat(1===a.length?"0"+a:a," : ").concat(1===t.length?"0"+t:t)}(),disabled:!0,readOnly:!0,children:Object(_.jsx)("span",{className:"position-absolute",title:"\u0441\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u043a\u0430\u0437\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",style:{top:30,right:10,cursor:"pointer"},onClick:function(){return b((function(e){return"minutes"===e?"hours":"minutes"}))},children:"\u267e"})})})}))]})},N=a(33),D=(a(26),function(){var e=function(e){var t=e.keys,a=e.initialState,r=e.wrapperKey,n={};if(a){var i=Object.keys(a);if(r){var o={};i.forEach((function(e){return o[e]=a[e]})),localStorage.setItem(r,JSON.stringify(o))}else i.forEach((function(e){return localStorage.setItem(e,JSON.stringify(a[e]))}))}if(r){var u=JSON.parse(localStorage.getItem(r));u&&Object.keys(u).forEach((function(e){null!==u[e]&&void 0!==u[e]&&(n[e]=u[e])}))}else t.forEach((function(e){var t=JSON.parse(localStorage.getItem(e));null!==t&&void 0!==t&&(n[e]=t)}));var s=Object(d.useState)(n),O=Object(l.a)(s,2),j=O[0],b=O[1];return[j,function(e){var a;a="function"===typeof e?Object(c.a)(Object(c.a)({},j),e(j)):Object(c.a)(Object(c.a)({},j),e),r?localStorage.setItem(r,JSON.stringify(a)):t.forEach((function(e){return localStorage.setItem(e,JSON.stringify(a[e]))})),b(a)}]}({keys:Object.keys(A),wrapperKey:"workTimeHelper"}),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(d.useReducer)(h,Object(c.a)(Object(c.a)({},A),a)),i=Object(l.a)(n,2),o=i[0],u=i[1];return Object(_.jsx)(m.Provider,{value:[o,function(e){return u(Object(c.a)(Object(c.a)({},e),{},{setStorageState:r}))}],children:Object(_.jsx)(N.a,{fluid:!0,className:"bg-dark d-flex justify-content-center",style:{minHeight:"100vh",padding:"70px 3rem 20px"},children:Object(_.jsx)(g,{className:"bg-white"})})})});a(27);o.a.render(Object(_.jsx)(D,{}),document.querySelector("#root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.56cf93b4.chunk.js.map